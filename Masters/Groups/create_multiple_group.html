<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<style>
                        
    .tab_col_50
    {
            width:50%;
            min-width:50%;
    }
    .tab_col_25
    {
            width:25%;
            min-width:25%;
    }
    .tab_col_15
    {
            width:15%;
            min-width:15%;
    }
    .tab_col_10
    {
            width:10%;
            min-width:10%;
    }
    .tab_col_7
    {
            width:7%;
            min-width:7%;
    }
    .tab_col_5{
            width:5%;
            min-width:5%;
    }
    .tab_col_4{
            width:4%;
            min-width:4%;
    }
</style>

<div id="createGroup" class="modal" data-keyboard="false" data-backdrop="static" tabindex="-1">
    <div class="modal-dialog" style="width: 90%;"> 
        <div class="modal-content"> 
           <!--Modal header-->
           <div class="modal-header"> 
               <h4 class="modal-title" id="mtitle">Group Creation</h4>
           </div>

            <!--Modal body-->
           <div class="modal-body" id="mbody">
                <form id="licenseform" class="form-horizontal" method="post">
                    <fieldset>

                    <!-- Select Basic -->
                    <div class="form-group">
                      <label class="col-lg-1 control-label" for="cmbunder">Under</label>
                      <div class="col-lg-4">
                          <select id="cmbunder" name="cmbunder" class="form-control" onchange="setUnderGroup();">
                            <option> Select Group</option>
                            <option>All Items</option>
                        </select>
                      </div>
                    </div>
                    
                    <!--table start-->
                    <div style=" width: 100%; height: 30%;">
			
			<div style="width: 100%;float:left; height:20%;">
                            
				<table style="width:100%;">
					<thead>
                                            <tr style="font-size: 0.875em;border: 0px;background-color: #C8DBE2;">
                                                    <td class="tab_col_5"></td>
                                                    <td class="tab_col_5"><b>S.No</b></td>
                                                    <td class="tab_col_50"><b>Name of Item</b></td>
                                                    <td class="tab_col_25"><b>Under</b></td>
                                            </tr>
					</thead>
				</table>
			</div>
			
			<div style="overflow: auto;float:left; width:100%; max-height: 100%">
				<table id="mygroups" class="table" style="border: 0px">
					
				</table>
			</div>
			
			<div style="height:20%;float:left;width:100%;">
                            <table style="width:100%;">
                                <thead>
                                    <tr style="font-size: 0.875em;border: 0px">
                                        <td class="tab_col_5"></td>
                                        <td align="center" class="tab_col_25">
                                            <table style="width:70%">
                                                <tr>
                                                    <td><a href="#" onclick="addRow('mygroups')" class="btn btn-primary btn-sm"> + Add Row</a></td>
                                                    <td><a href="#" onclick="deleteSelectedRows('mygroups')" class="btn btn-primary btn-sm"> X Delete Rows</a></td>
                                                    <td><a href="#" onclick="endListAndDisplayTotal('mygroups')" class="btn btn-primary btn-sm"> End List</a></td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td class="tab_col_25"></td>
                                    </tr>
                                </thead>
                            </table>    
                        </div>
                    <!--table end-->

                    </fieldset>
                </form>

           </div> 

            <!--Modal footer-->
           <div class="modal-footer" id="mfooter"> 
                <button onclick="validate();" type="submit" class="btn btn-primary btn-small">Accept</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" id="btnclose">Close</button> 

           </div> 
       </div> 
   </div>

</div>

<script>
    $('#createGroup').modal();
    addRow('mygroups');

    function setUnderGroup()
    {
        if($('#cmbunder').val() === "Primary")
        {
            $('#addDetails').attr('style', 'display: inline !important');
        }
        else
        {
            $('#addDetails').attr('style', 'display: none !important');
        }
    }

    function validate()
    {
        alert("hi");
    }
    
    
    function addRow(tableID) 
    {
        
        var table = document.getElementById(tableID);
        var rowCount = table.rows.length;


        var row = table.insertRow(rowCount);

        var cell1 = row.insertCell(0);
        cell1.className="tab_col_4";
        var element1 = document.createElement("input");
        element1.type = "checkbox";
        element1.name=tableID +"chkbox[]";
        element1.className="form-control";
        cell1.appendChild(element1);
        
        var cell2 = row.insertCell(1);
        cell2.className="tab_col_5";
        var element2 = document.createElement("span");
        element2.innerText=rowCount;
        element2.className="form-control";
        cell2.appendChild(element2);

        var cell3 = row.insertCell(2);
        cell3.className="tab_col_50";
        var element3 = document.createElement("input");
        element3.type = "text";
        element3.name = "name";
        element3.className="form-control";
        cell3.appendChild(element3);

        var cell4 = row.insertCell(3);
        var element4 = createSelectBox(tableID,"under","");
        cell4.appendChild(element4);

        edit_flag = true;
        window.current_rowID = rowCount + 1;
    }
    
    
    function deleteRow(tableID,rowID)
    {
            var table = document.getElementById(tableID);
            table.deleteRow(rowID-1);
    }

    function deleteSelectedRows(tableID) {
            try {
            var table = document.getElementById(tableID);
            var rowCount = table.rows.length;

            for(var i=0; i<rowCount; i++) {
                    var row = table.rows[i];
                    var chkbox = row.cells[0].childNodes[0];
                    if(null !== chkbox && true === chkbox.checked) {
                            table.deleteRow(i);
                            rowCount--;
                            i--;
                    }


            }
            }catch(e) {
                    alert(e);
            }
    }

</script>

