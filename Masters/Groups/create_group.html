<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<div id="createGroup" class="modal" data-keyboard="false" data-backdrop="static" tabindex="-1">
    <div class="modal-dialog" style="width: 95%;"> 
        <div class="modal-content"> 
           <!--Modal header-->
           <div class="modal-header"> 
               <button type="button" class="close" data-dismiss="modal">Ã—</button>
               <h4 class="modal-title" id="mtitle">Group Creation</h4>
           </div>

            <!--Modal body-->
           <div class="modal-body" id="mbody" style="max-height: 60%;overflow: auto">
                <form id="groupCreationForm" class="form-horizontal" method="post">
                    <fieldset>


                    <br>

                    
                    <div class="form-group">
                        <label class="col-1 control-label" for="txtname">Name :</label>
                      <div class="col-lg-3">
                            <input type="text" class="form-control" id="txtname" name="txtname" placeholder="Group Name">
                      </div>

                      <label class="col-1 control-label" for="txtalias"><i>(alias) :</i></label>
                      <div class="col-lg-3">
                          <input type="text" class="form-control" id="txtalias" name="txtalias" placeholder="alias">
                      </div>

                      <label class="col-lg-1 control-label" for="cmbunder">Under :</label>
                      <div class="col-lg-3">
                          <select id="cmbunder" name="cmbunder" class="form-control" onchange="additionalDetails();">
                            <option value=""> Select Group</option>
                            <option>Primary</option>
                        </select>
                      </div>
                      
                    </div>


                    <div id="addDetails" style="display:none">

                        <hr>
                       
                        <div class="form-group">
                          <label class="col-lg-4 control-label" for="cmbnature">Nature of Group :</label>
                          <div class="col-lg-2">
                              <select id="cmbnature" name="cmbnature" class="form-control">
                                <option>Assets</option>
                                <option>Expenses</option>
                                <option>Income</option>
                                <option>Liabilities</option>
                            </select>
                          </div>
                          
                          <label class="col-lg-4 control-label" for="rdaffectgp">Does it affect Gross Profits ?</label>
                          <div class="col-lg-2">
                                        <label class="radio-inline">
                                        <input type="radio" id="rdaffectgp-0" name="rdaffectgp" value="yes" checked="checked"> Yes
                                        </label>
                                        <label class="radio-inline">
                                        <input type="radio" id="rdaffectgp-1" name="rdaffectgp" value="no"> No
                                        </label>
                          </div>
                          
                        </div>

                        
                        <!-- Multiple Radios (inline) -->
                        <div class="form-group">
                          <label class="col-lg-4 control-label" for="rdsubledger">Group behaves like a sub-ledger ?</label>
                          <div class="col-lg-2">
                                        <label class="radio-inline">
                                        <input type="radio" id="rdsubledger-0" name="rdsubledger" value="yes"> Yes
                                        </label>
                                        <label class="radio-inline">
                                        <input type="radio" id="rdsubledger-1" name="rdsubledger" value="no" checked="checked"> No
                                        </label>
                          </div>
                          
                          <label class="col-lg-4 control-label" for="rdreporting">Nett Debit/Credit balances for reporting ?</label>
                          <div class="col-lg-2">
                                        <label class="radio-inline">
                                        <input type="radio" id="rdreporting-0" name="rdreporting" value="yes"> Yes
                                        </label>
                                        <label class="radio-inline">
                                        <input type="radio" id="rdreporting-1" name="rdreporting" value="no" checked="checked"> No
                                        </label>
                          </div>
                          
                        </div>

                        


                        <!-- Multiple Radios (inline) -->
                        <div class="form-group">
                            <label class="col-lg-4 control-label" for="rdcalculation">Used for Calculation (eg. Taxes, Discounts) :<br><i>(for Sales Invoice Entry)</i></label>
                          <div class="col-lg-2">
                                        <label class="radio-inline">
                                        <input type="radio" id="rdcalculation-0" name="rdcalculation" value="yes"> Yes
                                        </label>
                                        <label class="radio-inline">
                                        <input type="radio" id="rdcalculation-1" name="rdcalculation" value="no" checked="checked"> No
                                        </label>
                          </div>
                            
                          <label class="col-lg-4 control-label" for="cmballocation">Method to allocate when used in Purchase Invoice :</label>
                          <div class="col-lg-2">
                              <select id="cmballocation" name="cmballocation" class="form-control">
                                  <option>Not applicable</option>
                                  <option>Appropriate by Qty</option>
                                  <option>Appropriate by Value</option>
                            </select>
                          </div>
                            
                        </div>


                    </div>
                    </fieldset>
                </form>

           </div> 

            <!--Modal footer-->
           <div class="modal-footer" id="mfooter"> 
                <button id="btnsave" style="align:left" onclick="validate(this.id);" type="submit" class="btn btn-primary btn-small">Save and Exit</button>
                <button id="btncreate" onclick="validate(this.id);" type="button" class="btn btn-info btn-small">Save and Create New</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" id="btncancel">Cancel</button> 

           </div> 
       </div> 
   </div>

</div>

<script>
    $('#createGroup').modal();

    function additionalDetails()
    {
        if($('#cmbunder').val() === "Primary")
        {
            $('#addDetails').attr('style', 'display: inline !important');
        }
        else
        {
            $('#addDetails').attr('style', 'display: none !important');
        }
    }

    function validate(btnID)
    {
        var name=$('#txtname').val();
        var alias=$('#txtalias').val();
        var under=$('#cmbunder').val();
        
        if (under==="Primary")
        {
            //Get additional details
            var nature=$('#cmbnature').val();
            var affectgp=$("input:radio[name='rdaffectgp']:checked").val();
            var subledger=$("input:radio[name='rdsubledger']:checked").val();
            var reporting=$("input:radio[name='rdreporting']:checked").val();
            var calculation=$("input:radio[name='rdcalculation']:checked").val();
            var allocation=$('#cmballocation').val();
        }
        
        $("#groupCreationForm").validate({
                rules:{
                        txtname:{
                        required: true,
                        minlength: 3
                        },
                        cmbunder:{
                          required:true  
                        },
                },
                errorClass: "help-inline"

        });
					
	if ( $("#groupCreationForm").valid())
	{
            //Save form
            
            //End Save
            
            if(btnID === "btncreate")
            {
                //Continue (Clear Form)
                $('#groupCreationForm')[0].reset();
                additionalDetails();
            }
            else
            {
                //Exit
                $('#createGroup').modal('hide');
            }
        }
    }

</script>

