<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Accounting Drive - License Creation</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
        <link href="bootstrap/css/datepicker.css" rel="stylesheet">
        <script type="text/javascript" src="bootstrap/js/jquery.js"></script>
        <script type="text/javascript" src="jquery_validation/dist/jquery.validate.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap-datepicker.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap-modal.js"></script>
        <script type="text/javascript" src="js/config.js"></script>
    
    </head>
    <body>
        <div class="container" align="center">
            <div style="width:60%; margin-top: 20px; background-color: #F1F7F9;border: 1px solid #8CC3C3;border-radius: 10px; box-shadow: 5px 5px 3px #888888;">
                
                <form id="licenseform" class="form-horizontal" method="post">
                <fieldset>
                <div style="width:100%;background-color: #C8DBE2;border-radius: 10px;">
                    <center><b>License Creation</b></center>
                </div>
                
                <br>
                   
                <!-- Text input-->
		<div class="form-group">
		  <label class="col-lg-5 control-label" for="txtemail">User Email Address</label>
		  <div class="col-lg-5">
		  	<input type="text" class="form-control" id="txtemail" name="txtemail" placeholder="email">
		  </div>
		</div>
                
                <!-- Multiple Radios (inline) -->
		<div class="form-group">
		  <label class="col-lg-5 control-label" for="rdtype">Register For</label>
		  <div class="col-lg-5">
		  		<label class="radio-inline">
			  	<input type="radio" id="rdtype-0" name="rdtype" value="True" checked="checked"> Company
				</label>
				<label class="radio-inline">
  				<input type="radio" id="rdtype-1" name="rdtype" value="False"> User
				</label>
		  </div>
		</div>
                
                <!-- Text input-->
		<div class="form-group">
		  <label class="col-lg-5 control-label" for="txtnumber">Number</label>
		  <div class="col-lg-5">
		  	<input type="number" class="form-control" id="txtnumber" name="txtnumber" />
		  </div>
		</div>
                
                
                <!-- Text input-->
		<div class="form-group">
		  <label class="col-lg-5 control-label" for="txtprice">Price</label>
		  <div class="col-lg-5">
		  	<input type="number" class="form-control" id="txtprice" name="txtprice" >
		  </div>
		</div>
                
                
                <!-- Text input-->
		<div class="form-group">
		  <label class="col-lg-5 control-label" for="txtexpiry">Expires On</label>
		  <div class="col-lg-5">
                      <input type="text" class="form-control" data-date-format="dd-mm-yy" data-date-viewmode="years" id="txtexpiry" name="txtexpiry" />
		  </div>
		</div>
               
                
                <div style="width:85%; padding-top:10px; height:100px;" align="center">
                    
                    <button onclick="validate();" type="submit" class="btn btn-primary btn-small">Accept</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="reset" class="btn btn-primary btn-small">Reset</button>
                    
                    
                    <!--a href="#"  class="btn btn-primary btn-small">Accept</a>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" onclick="" class="btn btn-primary btn-small">Cancel</a-->
                    
                </div>

                
                </fieldset>
                </form>
            </div>
        </div>
        
        <script>
            //Date picker autoclose and setStartDate not working
            $('#txtexpiry').datepicker();
             
            function validate()
            {
                $("#licenseform").validate({
                    rules:{
                            txtnumber:{
                                    required: true,
                                    number: true
                            },
                            txtprice:{
                                    required: true,
                                    number: true
                            },
                            txtemail:{
                                    required: true,
                                    email: true
                            },
                            txtexpiry:{
                                    required: true,
                                    date: true
                            },
                    },
                    errorClass: "help-inline"
				
        	});
                
                if ( $("#licenseform").valid())
		{
                    
                    var email = $("#txtemail").val();
                    var registerfor = $("input[type='radio']:checked").val();
                    var price = $("#txtprice").val();
                    var number = $("#txtnumber").val();
                    var expirydate = $("#txtexpiry").val();
                   
                    sockjs.send(JSON.stringify({"action":"insertlicense","args": {"email":email,"registerfor":registerfor,"price":price,"number":number,"expireson":expirydate}}));
                
                }
                
            }
            
        </script>
    </body>
</html>
